<div xmlns:th="http://www.thymeleaf.org" th:fragment="password">
    <div class="tab-pane active" id="passwd">
        <form id="passwordform" class="form-horizontal">
            <div class="form-group">
                <label class="control-label col-lg-3" for="password">当前密码</label>
                <div class="col-lg-4">
                    <input id="oldPassword" type="password" class="form-control" name="oldPassword" maxlength="18"
                           placeholder="请输入当前密码" data-required="required"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3" for="password">新密码</label>
                <div class="col-lg-4">
                    <input type="password" class="form-control" id="password" name="password" placeholder="请输入新密码"
                           maxlength="18" data-required="required"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3" for="password2">确认密码</label>
                <div class="col-lg-4">
                    <input type="password" class="form-control" id="password2" name="password2" data-required="required"
                           placeholder="请再输入一遍新密码" maxlength="18" data-conditional="confirm"
                           data-describedby="message" data-description="passwd"/>
                </div>
            </div>
            <div class="form-group">
                <div class="text-center">
                    <button type="button" class="btn btn-primary" onclick="updatePassword()">提交</button>
                </div>
            </div><!-- /form-actions -->
        </form>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $('#passwordform').validate({
            onKeyup: true,
            onChange: true,
            eachValidField: function () {
                $(this).closest('div').removeClass('has-error').addClass('has-success');
            },
            eachInvalidField: function () {
                $(this).closest('div').removeClass('has-success').addClass('has-error');
            },
            conditional: {
                confirm: function () {
                    return $(this).val() == $('#password').val();
                }
            },
            description: {
                passwd: {
                    conditional: '<div class="alert alert-danger">两次输入的密码不一致</div>'
                }
            }
        });
    });
</script>